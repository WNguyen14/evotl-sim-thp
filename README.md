# C++ eVTOL Fleet Simulation

## Overview

This project is a discrete-time simulation of an eVTOL aircraft fleet, built in C++.

## Requirements

- CMake (version 3.16 or higher)
- A C++17 compliant compiler (e.g., g++, clang++, MSVC)
- Git (for fetching the Google Test dependency)

## Building the Project

1.  Clone the repository and navigate to the project directory.

2.  run run.bat in the project root

3.  Run the simulation:

```
.\Debug\evotl-sim.exe ../vehicles.csv
```

4. Run the tests:

```
.\tests\Debug\run_tests.exe
```

## Running the Application

The simulation executable requires a single command-line argument: the path to the `vehicles.csv` file.

From within the `build` directory, run the following command:

```bash
./evotl-sim ../vehicles.csv
```

## Running the Tests

From within the `build` directory, run the following command:

```bash
./tests/run_tests
```

## Design Decisions and Assumptions

- Using discrete time with 1 second timestamps
- Aircraft are assumed to instantly get to max speed, and energy consumption is linear based on the distance travelled
- Battery charging rate is also linear
- Every 'fault' is rolled per second, also faults are not catastrophic, flight continues even if there is a fault
- To make sure there is every aircraft in the fleet, the fleet is generated by adding one of each type first and then filling the remaining slots
- Flight cannot resume after battery depletion until full charge has been achieved

## Sample Simulation Output

      Starting eVTOL simulation...

      --- END OF SIMULATION ---

      --- FLEET STATUS ---
      Aircraft Type       | State
      --------------------|----------------------
      Alpha               | Charging
      Bravo               | Flying
      Charlie             | Waiting for Charger
      Delta               | Waiting for Charger
      Echo                | Flying
      Bravo               | Flying
      Charlie             | Waiting for Charger
      Charlie             | Waiting for Charger
      Alpha               | Charging
      Delta               | Waiting for Charger
      Charlie             | Waiting for Charger
      Charlie             | Waiting for Charger
      Bravo               | Flying
      Bravo               | Flying
      Echo                | Flying
      Delta               | Waiting for Charger
      Alpha               | Charging
      Delta               | Waiting for Charger
      Charlie             | Waiting for Charger
      Bravo               | Flying
      --------------------

      ========================================
            FINAL SIMULATION STATISTICS
      ========================================

      --- Alpha ---
      Average Flight Time     : 1.6667 hours
      Average Distance Travelled: 200.0000 miles
      Average Time Charging   : 0.2402 hours
      Total Number of Faults  : 0.0000
      Total Passenger Miles   : 2400.0000

      --- Bravo ---
      Average Flight Time     : 0.5804 hours
      Average Distance Travelled: 58.0361 miles
      Average Time Charging   : 0.2000 hours
      Total Number of Faults  : 1.0000
      Total Passenger Miles   : 2901.8056

      --- Charlie ---
      Average Flight Time     : 0.6250 hours
      Average Distance Travelled: 100.0000 miles
      Average Time Charging   : 0.8000 hours
      Total Number of Faults  : 1.0000
      Total Passenger Miles   : 3600.0000

      --- Delta ---
      Average Flight Time     : 1.6667 hours
      Average Distance Travelled: 150.0000 miles
      Average Time Charging   : 0.0000 hours
      Total Number of Faults  : 6.0000
      Total Passenger Miles   : 1200.0000

      --- Echo ---
      Average Flight Time     : 0.5179 hours
      Average Distance Travelled: 15.5373 miles
      Average Time Charging   : 0.3000 hours
      Total Number of Faults  : 1.0000
      Total Passenger Miles   : 124.2983

      [DEBUG] Returned from runSimulation SUCCESSFULLY.

## Struggles and Issues Worked

- Precision errors (float vs double) propogated throughout the simulation, making unit tests a must for verification
- CMAKE confusion
- Thinking about responsibility and ownership of each class
- Implementing testable class in a way that upholds OOP principles
- CMAKE PAIN

## Future Work and Potential Improvements

- Multithreading could improve performance for very large fleets
- Flight profiles could be implemented to include different takeoff/landing/climbing phases
- Refactor evotl -> eVTOL
